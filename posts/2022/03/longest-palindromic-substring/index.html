<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>jidibinlin`s blog Site - 最长回文子串 </title>
    
    
    <meta content="leetcode, dynamic-programming" name="keywords">
    
    <meta content="jidibinlin`s blog Site - Longest-Palindromic-Substring 题目描述 Given a string s,return the longest palindromic substring in s。 给定一个字符串s, 返回最长的回文子字符串。
  example 1
Input: s = &#34;babad&#34; Output: &#34;bab&#34; Note: &#34;aba&#34; is also a valid answer.   example 2
Input: s = &#34;cbbd&#34; Output: &#34;bb&#34;   example 3
Input: s = &#34;a&#34; Output: &#34;a&#34;   example 4
Input: s = &#34;ac&#34; Output: &#34;a&#34;   限制
 1&lt;=s.length &lt;=1000 s consist of only digits and english letters    https://leetcode-cn." name="description">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    

    

    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            extensions: ["tex2jax.js"],
            jax: ["input/TeX", "output/HTML-CSS"],
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true
            },
            "HTML-CSS": { availableFonts: ["TeX"] }
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>
    

    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/self/css/default.css">
    <script src=" /layui/layui.js"></script>

    <link rel="stylesheet" async href="/self/css/markdown.min.css">
    <link rel="stylesheet" async href="/self/css/gallery.css">
    
    
    

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
    <script async src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js" integrity="sha256-PZEg+mIdptYTwWmLcBTsa99GIDZujyt7VHBZ9Lb2Jys=" crossorigin="anonymous"></script></head>

<body>
    
    <header class="layui-header layui-bg-cyan">

    
    
    <a class="nav-self-logo" href="/">
        jidibinlin`s blog Site
    </a>

    <ul class="layui-nav layui-layout-right layui-bg-cyan" lay-filter="">
        
        
        <li class="layui-nav-item" id="nav_big"><a href="/post/">Posts</a></li>
        

        

        
        <li class="layui-nav-item" id="nav_small">
            <a href="javascript:;">
                <i class="layui-icon layui-icon-app" style="font-size: 24px;"></i>
            </a>

            <dl class="layui-nav-child">
                
                <dd><a href="/post/">Posts</a></dd>
                

                
            </dl>
        </li>
    </ul>
</header>

<script>
layui.use('element', function(){
  var element = layui.element;
});
</script>

        <div id="content" style="min-height:80%">
<div class="layui-container" style="margin-bottom: 10px">
    

    <div class="layui-row layui-col-space10">
        <div class="layui-col-md8 layui-col-sm12 layui-col-xs12">
            <div class="layui-card single-card">
                <br />
                <blockquote class="self-elem-quote  markdown-body single-title" >
                    <h1>最长回文子串</h1>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2022-03-28</span>

    
     
    <i class="layui-icon layui-icon-list" style="font-size: 32px; vertical-align: -3px;"></i>
    

    
        <a href="/categories/leetcode/">
            <span class="layui-badge " style="vertical-align: 2px;">leetcode</span>
        </a>
    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/leetcode/">
            <span class="layui-badge " style="vertical-align: 2px;">leetcode</span>
        </a>
    
        <a href="/tags/dynamic-programming/">
            <span class="layui-badge " style="vertical-align: 2px;">dynamic-programming</span>
        </a>
    
    
</h3>

                </blockquote>
                <div class="layui-card-body markdown-body single-content">
                    <h2 id="longest-palindromic-substring">Longest-Palindromic-Substring</h2>
<h3 id="题目描述">题目描述</h3>
<p>Given a string s,return the longest palindromic substring in s。
给定一个字符串s, 返回最长的回文子字符串。</p>
<ul>
<li>
<p>example 1</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Input: s = &#34;babad&#34;
</span></span><span style="display:flex;"><span>Output: &#34;bab&#34;
</span></span><span style="display:flex;"><span>Note: &#34;aba&#34; is also a valid answer.
</span></span></code></pre></div></li>
<li>
<p>example 2</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Input: s = &#34;cbbd&#34;
</span></span><span style="display:flex;"><span>Output: &#34;bb&#34;
</span></span></code></pre></div></li>
<li>
<p>example 3</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Input: s = &#34;a&#34;
</span></span><span style="display:flex;"><span>Output: &#34;a&#34;
</span></span></code></pre></div></li>
<li>
<p>example 4</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Input: s = &#34;ac&#34;
</span></span><span style="display:flex;"><span>Output: &#34;a&#34;
</span></span></code></pre></div></li>
<li>
<p>限制</p>
<ul>
<li>1&lt;=s.length &lt;=1000</li>
<li>s consist of only digits and english letters</li>
</ul>
</li>
</ul>
<p><a href="https://leetcode-cn.com/problems/longest-palindromic-substring/">https://leetcode-cn.com/problems/longest-palindromic-substring/</a></p>
<h3 id="题目分析">题目分析</h3>
<p>这题应该用动态规划来做。为什么,首先要想使用动态规划是需要满足几个条件的。</p>
<ol>
<li>问题要有最优子结构 :: 最优子结构就是递归分解后，结构最小的问题</li>
<li>问题要能够递归分解 :: 递归分解，又叫转移方程，问题被不断递归拆解成一个个小的问题</li>
<li>子问题的最优解决定了父问题的最优解</li>
<li>有很多的重叠问题 :: 当问题有重叠问题时，重叠的问题会被不断的计算，这时候可以将重叠
问题的结果存储起来，下次在次计算这个问题的时候，我们可以直接去取结果，用牺牲少量内存
的方法来加速计算</li>
</ol>
<h4 id="具体分析">具体分析</h4>
<ul>
<li>
<p>首先我们看看能不能递归拆解这个问题
最长的回文字串，这里有一个性质: 最长的回文字符串，他的子串一定也是一个回文字符串。
如果他有任意一个字串，他不是回文字符串，那他就不构成回文了。因为回文一定是&quot;a&quot;,&ldquo;aa&rdquo;
&ldquo;aba&quot;这三种形式。所以到这里最优子结构也就出来了。</p>
</li>
<li>
<p>最优子结构</p>
<ol>
<li>&ldquo;a&rdquo;</li>
<li>&ldquo;aa&rdquo;</li>
</ol>
<p>任意的回文字符串，一定是在这两个结构的基础上，通过在他们两端加上相同的字符复合而成</p>
</li>
<li>
<p>转移方程
我们设 pol(i,j)表示从i到j的字符串是否为回文字符串，那么他可以转化成下面的形式
\[pol(i,j) = pol(i+1,j-1)\wedge(s[i]==s[j])\]
pol(i,j) 要想为真 那么他从i+1 到 j-1 的子字符串必须是回文字符串，s[i]==s[j] 也就是两端必须字符相同的时候。
\[pol(i,j) = pol(i+1,j-1)\wedge(s[i]==s[j])\]所以这就是我们的转移方程式</p>
</li>
<li>
<p>这里，我们还要考虑边界情况</p>
<ol>
<li>
<p>当字符串长度为1的时候，因为只有一个字符，所以他本身就是回文</p>
</li>
<li>
<p>当字符串长度为2的时候，只有两个字符都相等，才表示它是回文</p>
<p>\begin{equation}
\begin{cases}
pol(i,i)=true\\
p(i,i+1)=(s_{i}==s_{i+1})
\end{cases}
\end{equation}</p>
</li>
</ol>
</li>
<li>
<p>整个递推表达式就是</p>
<p>\begin{equation}
pol(i,j)=\begin{cases}
true &amp;\text{i=j}\\
s_{i}==s_{i+1} &amp;\text{j-i=1}\\
pol(i+1,j-i)\wedge(s[i]==s[j]) &amp;j-i&gt;=2
\end{cases}
\end{equation}</p>
</li>
</ul>
<h3 id="代码实现">代码实现</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    string longestPalindrome(string s) {
</span></span><span style="display:flex;"><span>        vector <span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">bool</span><span style="color:#f92672">&gt;&gt;</span> dp(s.length(),vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">bool</span><span style="color:#f92672">&gt;</span>(s.length(),<span style="color:#ae81ff">0</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> s.length(); <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>            dp[i][i]<span style="color:#f92672">=</span>true;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> longest <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> start<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&lt;=</span> s.length(); <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; j<span style="color:#f92672">+</span>i<span style="color:#f92672">&lt;=</span>s.length(); <span style="color:#f92672">++</span>j) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>){
</span></span><span style="display:flex;"><span>                    dp[j][j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>(s[j]<span style="color:#f92672">==</span>s[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>(longest <span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">&amp;&amp;</span> dp[j][j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]){
</span></span><span style="display:flex;"><span>                        longest <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>                        start<span style="color:#f92672">=</span>j;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                dp[j][j<span style="color:#f92672">+</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>dp[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][j<span style="color:#f92672">+</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>] <span style="color:#f92672">&amp;&amp;</span> (s[j]<span style="color:#f92672">==</span>s[j<span style="color:#f92672">+</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(dp[j][j<span style="color:#f92672">+</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">&amp;&amp;</span> i<span style="color:#f92672">&gt;=</span>longest){
</span></span><span style="display:flex;"><span>                    longest <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>                    start<span style="color:#f92672">=</span>j;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> longest<span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> s.substr(start, longest);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Solution <span style="color:#f92672">*</span>s <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Solution();
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> s<span style="color:#f92672">-&gt;</span>longestPalindrome(<span style="color:#e6db74">&#34;bb&#34;</span>) <span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
            </div>
        </div>

        <div class="layui-col-md4 layui-col-sm12 layui-col-xs12">
            
            <div class="layui-card single-card">
                <h2 class="single-title">Relevant Topics</h2>
                
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/posts/2022/03/add-two-number/">
                                <h3 class="">两数之和</h3>
                            </a>
                            
                            <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2022-03-28</span>

    
     
    <i class="layui-icon layui-icon-list" style="font-size: 32px; vertical-align: -3px;"></i>
    

    
        <a href="/categories/leetcode/">
            <span class="layui-badge " style="vertical-align: 2px;">leetcode</span>
        </a>
    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/leetcode/">
            <span class="layui-badge " style="vertical-align: 2px;">leetcode</span>
        </a>
    
        <a href="/tags/linked-list/">
            <span class="layui-badge " style="vertical-align: 2px;">linked-list</span>
        </a>
    
    
</h3>

                        </blockquote>
                    </div>
                	
                
                <br />
            </div>
            

            <div class="layui-card single-card">
                <h2 class="single-title">Recent Posts</h2>
            
            <br />
            </div>
        </div>

    </div>
</div>


        </div><footer>
    
    
    <div class="layui-container">
        <p class="copyright">&copy; All rights reserved. Powered by <a href='https://gohugo.io' style='color:#FFFFFF'>Hugo</a> and <a href='https://github.com/ertuil/erblog' style='color:#FFFFFF'>Erblog</a>.</p>
    </div>
</footer>

</body>
</html>
